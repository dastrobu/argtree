{"metadata":{"roleHeading":"Article","modules":[{"name":"Logging"}],"title":"002: Structured logging","role":"article"},"identifier":{"url":"doc:\/\/Logging\/documentation\/Logging\/002-StructuredLogging","interfaceLanguage":"swift"},"seeAlsoSections":[{"identifiers":["doc:\/\/Logging\/documentation\/Logging\/001-ChoosingLogLevels","doc:\/\/Logging\/documentation\/Logging\/003-AcceptingLoggers"],"generated":true}],"sections":[],"variants":[{"paths":["\/documentation\/logging\/002-structuredlogging"],"traits":[{"interfaceLanguage":"swift"}]}],"kind":"article","hierarchy":{"paths":[["doc:\/\/Logging\/documentation\/Logging","doc:\/\/Logging\/documentation\/Logging\/LoggingBestPractices"]]},"primaryContentSections":[{"content":[{"level":2,"text":"Overview","anchor":"Overview","type":"heading"},{"inlineContent":[{"text":"Structured logging uses metadata to separate human-readable messages from","type":"text"},{"text":" ","type":"text"},{"text":"machine-readable data. This practice makes logs easier to search, filter, and","type":"text"},{"text":" ","type":"text"},{"text":"analyze programmatically while maintaining readability.","type":"text"}],"type":"paragraph"},{"level":3,"text":"Motivation","anchor":"Motivation","type":"heading"},{"inlineContent":[{"text":"Traditional string-based logging embeds all information in the message text,","type":"text"},{"text":" ","type":"text"},{"text":"making it more difficult for automated tools to parse and extract.","type":"text"},{"text":" ","type":"text"},{"text":"Structured logging separates these concerns; messages provide human readable","type":"text"},{"text":" ","type":"text"},{"text":"context while metadata provides structured data for tooling.","type":"text"}],"type":"paragraph"},{"level":3,"text":"Example","anchor":"Example","type":"heading"},{"level":4,"text":"Recommended: Structured logging","anchor":"Recommended-Structured-logging","type":"heading"},{"code":["\/\/ ✅ Structured - message provides context, metadata provides data","logger.info(","    \"Accepted connection\",","    metadata: [","        \"connection.id\": \"\\(id)\",","        \"connection.peer\": \"\\(peer)\", ","        \"connections.total\": \"\\(count)\"","    ]",")","","logger.error(","    \"Database query failed\",","    metadata: [","        \"query.retries\": \"\\(retries)\",","        \"query.error\": \"\\(error)\",","        \"query.duration\": \"\\(duration)\"","    ]",")"],"syntax":"swift","type":"codeListing"},{"level":3,"text":"Advanced: Nested metadata for complex data","anchor":"Advanced-Nested-metadata-for-complex-data","type":"heading"},{"code":["\/\/ ✅ Complex structured data","logger.trace(","    \"HTTP request started\",","    metadata: [","        \"request.id\": \"\\(requestId)\",","        \"request.method\": \"GET\",","        \"request.path\": \"\/api\/users\",","        \"request.headers\": [","            \"user-agent\": \"\\(userAgent)\"","        ],","        \"client.ip\": \"\\(clientIP)\",","        \"client.country\": \"\\(country)\"","    ]",")"],"syntax":"swift","type":"codeListing"},{"level":4,"text":"Avoid: Unstructured logging","anchor":"Avoid-Unstructured-logging","type":"heading"},{"code":["\/\/ ❌ Not structured - hard to parse programmatically","logger.info(\"Accepted connection \\(id) from \\(peer), total: \\(count)\")","logger.error(\"Database query failed after \\(retries) retries: \\(error)\")"],"syntax":"swift","type":"codeListing"},{"level":3,"text":"Metadata key conventions","anchor":"Metadata-key-conventions","type":"heading"},{"inlineContent":[{"type":"text","text":"Use hierarchical dot-notation for related fields:"}],"type":"paragraph"},{"code":["\/\/ ✅ Good: Hierarchical keys","logger.debug(","    \"Database operation completed\",","    metadata: [","        \"db.operation\": \"SELECT\",","        \"db.table\": \"users\",","        \"db.duration\": \"\\(duration)\",","        \"db.rows\": \"\\(rowCount)\"","    ]",")","","\/\/ ✅ Good: Consistent prefixing","logger.info(","    \"HTTP response\",","    metadata: [","        \"http.method\": \"POST\",","        \"http.status\": \"201\",","        \"http.path\": \"\/api\/users\",","        \"http.duration\": \"\\(duration)\"","    ]",")"],"syntax":"swift","type":"codeListing"}],"kind":"content"}],"abstract":[{"text":"Use metadata to create machine-readable, searchable log entries.","type":"text"}],"schemaVersion":{"major":0,"minor":3,"patch":0},"references":{"doc://Logging/documentation/Logging/001-ChoosingLogLevels":{"title":"001: Choosing log levels","url":"\/documentation\/logging\/001-choosingloglevels","type":"topic","role":"article","kind":"article","identifier":"doc:\/\/Logging\/documentation\/Logging\/001-ChoosingLogLevels","abstract":[{"text":"Select appropriate log levels in applications and libraries.","type":"text"}]},"doc://Logging/documentation/Logging":{"identifier":"doc:\/\/Logging\/documentation\/Logging","role":"collection","kind":"symbol","title":"Logging","url":"\/documentation\/logging","type":"topic","abstract":[{"type":"text","text":"A unified, performant, and ergonomic logging API for Swift."}]},"doc://Logging/documentation/Logging/003-AcceptingLoggers":{"identifier":"doc:\/\/Logging\/documentation\/Logging\/003-AcceptingLoggers","abstract":[{"type":"text","text":"Accept loggers through method parameters to ensure proper metadata propagation."}],"kind":"article","type":"topic","role":"article","url":"\/documentation\/logging\/003-acceptingloggers","title":"003: Accepting loggers in libraries"},"doc://Logging/documentation/Logging/LoggingBestPractices":{"url":"\/documentation\/logging\/loggingbestpractices","kind":"article","identifier":"doc:\/\/Logging\/documentation\/Logging\/LoggingBestPractices","type":"topic","title":"Logging best practices","abstract":[{"type":"text","text":"Best practices for effective logging with SwiftLog."}],"role":"collectionGroup"}}}