{"metadata":{"modules":[{"name":"Logging"}],"roleHeading":"Article","title":"002: Structured logging","role":"article"},"identifier":{"url":"doc:\/\/Logging\/documentation\/Logging\/002-StructuredLogging","interfaceLanguage":"swift"},"kind":"article","schemaVersion":{"patch":0,"minor":3,"major":0},"seeAlsoSections":[{"identifiers":["doc:\/\/Logging\/documentation\/Logging\/001-ChoosingLogLevels","doc:\/\/Logging\/documentation\/Logging\/003-AcceptingLoggers"],"generated":true}],"sections":[],"variants":[{"traits":[{"interfaceLanguage":"swift"}],"paths":["\/documentation\/logging\/002-structuredlogging"]}],"abstract":[{"type":"text","text":"Use metadata to create machine-readable, searchable log entries."}],"hierarchy":{"paths":[["doc:\/\/Logging\/documentation\/Logging","doc:\/\/Logging\/documentation\/Logging\/LoggingBestPractices"]]},"primaryContentSections":[{"content":[{"level":2,"text":"Overview","anchor":"Overview","type":"heading"},{"inlineContent":[{"type":"text","text":"Structured logging uses metadata to separate human-readable messages from"},{"type":"text","text":" "},{"type":"text","text":"machine-readable data. This practice makes logs easier to search, filter, and"},{"type":"text","text":" "},{"text":"analyze programmatically while maintaining readability.","type":"text"}],"type":"paragraph"},{"anchor":"Motivation","type":"heading","level":3,"text":"Motivation"},{"type":"paragraph","inlineContent":[{"type":"text","text":"Traditional string-based logging embeds all information in the message text,"},{"type":"text","text":" "},{"text":"making it more difficult for automated tools to parse and extract.","type":"text"},{"text":" ","type":"text"},{"type":"text","text":"Structured logging separates these concerns; messages provide human readable"},{"type":"text","text":" "},{"type":"text","text":"context while metadata provides structured data for tooling."}]},{"anchor":"Example","type":"heading","level":3,"text":"Example"},{"anchor":"Recommended-Structured-logging","type":"heading","level":4,"text":"Recommended: Structured logging"},{"syntax":"swift","type":"codeListing","code":["\/\/ ✅ Structured - message provides context, metadata provides data","logger.info(","    \"Accepted connection\",","    metadata: [","        \"connection.id\": \"\\(id)\",","        \"connection.peer\": \"\\(peer)\", ","        \"connections.total\": \"\\(count)\"","    ]",")","","logger.error(","    \"Database query failed\",","    metadata: [","        \"query.retries\": \"\\(retries)\",","        \"query.error\": \"\\(error)\",","        \"query.duration\": \"\\(duration)\"","    ]",")"]},{"anchor":"Advanced-Nested-metadata-for-complex-data","type":"heading","level":3,"text":"Advanced: Nested metadata for complex data"},{"syntax":"swift","type":"codeListing","code":["\/\/ ✅ Complex structured data","logger.trace(","    \"HTTP request started\",","    metadata: [","        \"request.id\": \"\\(requestId)\",","        \"request.method\": \"GET\",","        \"request.path\": \"\/api\/users\",","        \"request.headers\": [","            \"user-agent\": \"\\(userAgent)\"","        ],","        \"client.ip\": \"\\(clientIP)\",","        \"client.country\": \"\\(country)\"","    ]",")"]},{"anchor":"Avoid-Unstructured-logging","type":"heading","level":4,"text":"Avoid: Unstructured logging"},{"syntax":"swift","code":["\/\/ ❌ Not structured - hard to parse programmatically","logger.info(\"Accepted connection \\(id) from \\(peer), total: \\(count)\")","logger.error(\"Database query failed after \\(retries) retries: \\(error)\")"],"type":"codeListing"},{"level":3,"type":"heading","anchor":"Metadata-key-conventions","text":"Metadata key conventions"},{"inlineContent":[{"type":"text","text":"Use hierarchical dot-notation for related fields:"}],"type":"paragraph"},{"syntax":"swift","type":"codeListing","code":["\/\/ ✅ Good: Hierarchical keys","logger.debug(","    \"Database operation completed\",","    metadata: [","        \"db.operation\": \"SELECT\",","        \"db.table\": \"users\",","        \"db.duration\": \"\\(duration)\",","        \"db.rows\": \"\\(rowCount)\"","    ]",")","","\/\/ ✅ Good: Consistent prefixing","logger.info(","    \"HTTP response\",","    metadata: [","        \"http.method\": \"POST\",","        \"http.status\": \"201\",","        \"http.path\": \"\/api\/users\",","        \"http.duration\": \"\\(duration)\"","    ]",")"]}],"kind":"content"}],"references":{"doc://Logging/documentation/Logging":{"role":"collection","kind":"symbol","title":"Logging","abstract":[{"type":"text","text":"A unified, performant, and ergonomic logging API for Swift."}],"identifier":"doc:\/\/Logging\/documentation\/Logging","url":"\/documentation\/logging","type":"topic"},"doc://Logging/documentation/Logging/LoggingBestPractices":{"kind":"article","url":"\/documentation\/logging\/loggingbestpractices","role":"collectionGroup","type":"topic","title":"Logging best practices","identifier":"doc:\/\/Logging\/documentation\/Logging\/LoggingBestPractices","abstract":[{"type":"text","text":"Best practices for effective logging with SwiftLog."}]},"doc://Logging/documentation/Logging/003-AcceptingLoggers":{"kind":"article","url":"\/documentation\/logging\/003-acceptingloggers","role":"article","type":"topic","title":"003: Accepting loggers in libraries","identifier":"doc:\/\/Logging\/documentation\/Logging\/003-AcceptingLoggers","abstract":[{"text":"Accept loggers through method parameters to ensure proper metadata propagation.","type":"text"}]},"doc://Logging/documentation/Logging/001-ChoosingLogLevels":{"role":"article","title":"001: Choosing log levels","kind":"article","abstract":[{"text":"Select appropriate log levels in applications and libraries.","type":"text"}],"url":"\/documentation\/logging\/001-choosingloglevels","type":"topic","identifier":"doc:\/\/Logging\/documentation\/Logging\/001-ChoosingLogLevels"}}}