{"kind":"symbol","hierarchy":{"paths":[["doc:\/\/Logging\/documentation\/Logging"]]},"abstract":[{"text":"A pseudo log handler that sends messages to multiple other log handlers.","type":"text"}],"topicSections":[{"title":"Creating a multiplex log handler","identifiers":["doc:\/\/Logging\/documentation\/Logging\/MultiplexLogHandler\/init(_:)","doc:\/\/Logging\/documentation\/Logging\/MultiplexLogHandler\/init(_:metadataProvider:)"],"anchor":"Creating-a-multiplex-log-handler"},{"title":"Sending log messages","identifiers":["doc:\/\/Logging\/documentation\/Logging\/MultiplexLogHandler\/log(level:message:metadata:source:file:function:line:)"],"anchor":"Sending-log-messages"},{"title":"Updating metadata","identifiers":["doc:\/\/Logging\/documentation\/Logging\/MultiplexLogHandler\/subscript(metadataKey:)"],"anchor":"Updating-metadata"},{"title":"Inspecting a log handler","identifiers":["doc:\/\/Logging\/documentation\/Logging\/MultiplexLogHandler\/logLevel","doc:\/\/Logging\/documentation\/Logging\/MultiplexLogHandler\/metadata","doc:\/\/Logging\/documentation\/Logging\/MultiplexLogHandler\/metadataProvider"],"anchor":"Inspecting-a-log-handler"},{"generated":true,"title":"Default Implementations","identifiers":["doc:\/\/Logging\/documentation\/Logging\/MultiplexLogHandler\/LogHandler-Implementations"],"anchor":"Default-Implementations"}],"relationshipsSections":[{"title":"Conforms To","identifiers":["doc:\/\/Logging\/documentation\/Logging\/LogHandler","doc:\/\/Logging\/s8SendableP"],"type":"conformsTo","kind":"relationships"}],"identifier":{"url":"doc:\/\/Logging\/documentation\/Logging\/MultiplexLogHandler","interfaceLanguage":"swift"},"metadata":{"roleHeading":"Structure","modules":[{"name":"Logging"}],"externalID":"s:7Logging19MultiplexLogHandlerV","title":"MultiplexLogHandler","fragments":[{"text":"struct","kind":"keyword"},{"text":" ","kind":"text"},{"text":"MultiplexLogHandler","kind":"identifier"}],"navigatorTitle":[{"text":"MultiplexLogHandler","kind":"identifier"}],"role":"symbol","symbolKind":"struct"},"variants":[{"traits":[{"interfaceLanguage":"swift"}],"paths":["\/documentation\/logging\/multiplexloghandler"]}],"seeAlsoSections":[{"generated":true,"title":"Log Handlers","identifiers":["doc:\/\/Logging\/documentation\/Logging\/LogHandler","doc:\/\/Logging\/documentation\/Logging\/StreamLogHandler","doc:\/\/Logging\/documentation\/Logging\/SwiftLogNoOpLogHandler"],"anchor":"Log-Handlers"}],"primaryContentSections":[{"declarations":[{"tokens":[{"text":"struct","kind":"keyword"},{"text":" ","kind":"text"},{"text":"MultiplexLogHandler","kind":"identifier"}],"platforms":["macOS"],"languages":["swift"]}],"kind":"declarations"},{"content":[{"text":"Effective Logger.Level","anchor":"Effective-LoggerLevel","type":"heading","level":3},{"inlineContent":[{"text":"When first initialized, the multiplex log handlers’ log level is automatically set to the minimum of all the","type":"text"},{"text":" ","type":"text"},{"text":"provided log handlers.","type":"text"},{"text":" ","type":"text"},{"text":"This ensures that each of the handlers are able to log at their appropriate level","type":"text"},{"text":" ","type":"text"},{"text":"any log events they might be interested in.","type":"text"}],"type":"paragraph"},{"inlineContent":[{"text":"Example:","type":"text"},{"text":" ","type":"text"},{"text":"If log handler ","type":"text"},{"type":"codeVoice","code":"A"},{"text":" is logging at ","type":"text"},{"type":"codeVoice","code":".debug"},{"text":" level, and log handler ","type":"text"},{"type":"codeVoice","code":"B"},{"text":" is logging at ","type":"text"},{"type":"codeVoice","code":".info"},{"text":" level, the log level of the constructed","type":"text"},{"text":" ","type":"text"},{"type":"codeVoice","code":"MultiplexLogHandler([A, B])"},{"text":" is set to ","type":"text"},{"type":"codeVoice","code":".debug"},{"text":". This means that this handler will operate on debug messages,","type":"text"},{"text":" ","type":"text"},{"text":"while only logged by the underlying ","type":"text"},{"type":"codeVoice","code":"A"},{"text":" log handler (since ","type":"text"},{"type":"codeVoice","code":"B"},{"text":"’s log level is ","type":"text"},{"type":"codeVoice","code":".info"},{"text":" ","type":"text"},{"text":"and thus it would not actually log that log message).","type":"text"}],"type":"paragraph"},{"inlineContent":[{"text":"If the log level is ","type":"text"},{"inlineContent":[{"type":"text","text":"set"}],"type":"emphasis"},{"text":" on a ","type":"text"},{"code":"Logger","type":"codeVoice"},{"text":" backed by an ","type":"text"},{"code":"MultiplexLogHandler","type":"codeVoice"},{"text":" the log level applies to ","type":"text"},{"inlineContent":[{"text":"all","type":"text"}],"type":"emphasis"},{"text":" ","type":"text"},{"text":"underlying log handlers, allowing a logger to still select at what level it wants to log regardless of if the underlying","type":"text"},{"text":" ","type":"text"},{"text":"handler is a multiplex or a normal one. If for some reason one might want to not allow changing a log level of a specific","type":"text"},{"text":" ","type":"text"},{"text":"handler passed into the multiplex log handler, this is possible by wrapping it in a handler which ignores any log level changes.","type":"text"}],"type":"paragraph"},{"text":"Effective Logger.Metadata","anchor":"Effective-LoggerMetadata","type":"heading","level":3},{"inlineContent":[{"type":"text","text":"Since a "},{"type":"codeVoice","code":"MultiplexLogHandler"},{"type":"text","text":" is a combination of multiple log handlers, the handling of metadata can be non-obvious."},{"type":"text","text":" "},{"type":"text","text":"For example, the underlying log handlers may have metadata of their own set before they are used to initialize the multiplex log handler."}],"type":"paragraph"},{"inlineContent":[{"text":"The multiplex log handler acts purely as proxy and does not make any changes to underlying handler metadata other than","type":"text"},{"text":" ","type":"text"},{"text":"proxying writes that users made on a ","type":"text"},{"code":"Logger","type":"codeVoice"},{"text":" instance backed by this handler.","type":"text"}],"type":"paragraph"},{"inlineContent":[{"text":"Setting metadata is always proxied through to ","type":"text"},{"type":"emphasis","inlineContent":[{"text":"all","type":"text"}]},{"text":" underlying handlers, meaning that if a modification like","type":"text"},{"text":" ","type":"text"},{"type":"codeVoice","code":"logger[metadataKey: \"x\"] = \"y\""},{"text":" is made, all the underlying log handlers used to create the multiplex handler","type":"text"},{"text":" ","type":"text"},{"text":"observe this change.","type":"text"}],"type":"paragraph"},{"inlineContent":[{"text":"Reading metadata from the multiplex log handler MAY need to pick one of conflicting values if the underlying log handlers","type":"text"},{"text":" ","type":"text"},{"text":"were previously initiated with metadata before passing them into the multiplex handler. The multiplex handler uses","type":"text"},{"text":" ","type":"text"},{"text":"the order in which the handlers were passed in during its initialization as a priority indicator - the first handler’s","type":"text"},{"text":" ","type":"text"},{"text":"values are more important than the next handlers values, etc.","type":"text"}],"type":"paragraph"},{"inlineContent":[{"text":"Example:","type":"text"},{"text":" ","type":"text"},{"text":"If the multiplex log handler was initiated with two handlers like this: ","type":"text"},{"code":"MultiplexLogHandler([handler1, handler2])","type":"codeVoice"},{"text":".","type":"text"},{"text":" ","type":"text"},{"text":"The handlers each have some already set metadata: ","type":"text"},{"code":"handler1","type":"codeVoice"},{"text":" has metadata values for keys ","type":"text"},{"code":"one","type":"codeVoice"},{"text":" and ","type":"text"},{"code":"all","type":"codeVoice"},{"text":", and ","type":"text"},{"code":"handler2","type":"codeVoice"},{"text":" ","type":"text"},{"text":"has values for keys ","type":"text"},{"code":"two","type":"codeVoice"},{"text":" and ","type":"text"},{"code":"all","type":"codeVoice"},{"text":".","type":"text"}],"type":"paragraph"},{"inlineContent":[{"text":"A query through the multiplex log handler the key ","type":"text"},{"type":"codeVoice","code":"one"},{"text":" naturally returns ","type":"text"},{"type":"codeVoice","code":"handler1"},{"text":"’s value, and a query for ","type":"text"},{"type":"codeVoice","code":"two"},{"text":" ","type":"text"},{"text":"naturally returns ","type":"text"},{"type":"codeVoice","code":"handler2"},{"text":"’s value.","type":"text"},{"text":" ","type":"text"},{"text":"Querying for the key ","type":"text"},{"code":"all","type":"codeVoice"},{"text":" will return ","type":"text"},{"code":"handler1","type":"codeVoice"},{"text":"’s value, as that handler has a high priority,","type":"text"},{"text":" ","type":"text"},{"text":"as indicated by its earlier position in the initialization, than the second handler.","type":"text"},{"text":" ","type":"text"},{"text":"The same rule applies when querying for the ","type":"text"},{"code":"metadata","type":"codeVoice"},{"text":" property of the multiplex log handler; it constructs ","type":"text"},{"code":"Metadata","type":"codeVoice"},{"text":" uniquing values.","type":"text"}],"type":"paragraph"}],"kind":"content"}],"schemaVersion":{"major":0,"patch":0,"minor":3},"sections":[],"references":{"doc://Logging/documentation/Logging/MultiplexLogHandler":{"navigatorTitle":[{"kind":"identifier","text":"MultiplexLogHandler"}],"title":"MultiplexLogHandler","kind":"symbol","abstract":[{"text":"A pseudo log handler that sends messages to multiple other log handlers.","type":"text"}],"type":"topic","identifier":"doc:\/\/Logging\/documentation\/Logging\/MultiplexLogHandler","url":"\/documentation\/logging\/multiplexloghandler","fragments":[{"kind":"keyword","text":"struct"},{"kind":"text","text":" "},{"kind":"identifier","text":"MultiplexLogHandler"}],"role":"symbol"},"doc://Logging/documentation/Logging/MultiplexLogHandler/subscript(metadataKey:)":{"url":"\/documentation\/logging\/multiplexloghandler\/subscript(metadatakey:)","title":"subscript(metadataKey:)","role":"symbol","abstract":[{"text":"Add, change, or remove a logging metadata item.","type":"text"}],"type":"topic","fragments":[{"kind":"keyword","text":"subscript"},{"kind":"text","text":"("},{"kind":"externalParam","text":"metadataKey"},{"kind":"text","text":" _: "},{"kind":"typeIdentifier","text":"Logger","preciseIdentifier":"s:7Logging6LoggerV"},{"kind":"text","text":"."},{"kind":"typeIdentifier","text":"Metadata","preciseIdentifier":"s:7Logging6LoggerV8Metadataa"},{"kind":"text","text":"."},{"kind":"typeIdentifier","text":"Key","preciseIdentifier":"s:SD3Keya"},{"kind":"text","text":") -> "},{"kind":"typeIdentifier","text":"Logger","preciseIdentifier":"s:7Logging6LoggerV"},{"kind":"text","text":"."},{"preciseIdentifier":"s:7Logging6LoggerV8Metadataa","kind":"typeIdentifier","text":"Metadata"},{"kind":"text","text":"."},{"preciseIdentifier":"s:SD5Valuea","kind":"typeIdentifier","text":"Value"},{"kind":"text","text":"?"}],"identifier":"doc:\/\/Logging\/documentation\/Logging\/MultiplexLogHandler\/subscript(metadataKey:)","kind":"symbol"},"doc://Logging/documentation/Logging/SwiftLogNoOpLogHandler":{"navigatorTitle":[{"kind":"identifier","text":"SwiftLogNoOpLogHandler"}],"fragments":[{"kind":"keyword","text":"struct"},{"kind":"text","text":" "},{"kind":"identifier","text":"SwiftLogNoOpLogHandler"}],"role":"symbol","abstract":[{"text":"A no-operation log handler, used when no logging is required","type":"text"}],"type":"topic","kind":"symbol","identifier":"doc:\/\/Logging\/documentation\/Logging\/SwiftLogNoOpLogHandler","url":"\/documentation\/logging\/swiftlognooploghandler","title":"SwiftLogNoOpLogHandler"},"doc://Logging/documentation/Logging/MultiplexLogHandler/metadata":{"type":"topic","url":"\/documentation\/logging\/multiplexloghandler\/metadata","title":"metadata","fragments":[{"kind":"keyword","text":"var"},{"kind":"text","text":" "},{"kind":"identifier","text":"metadata"},{"kind":"text","text":": "},{"kind":"typeIdentifier","preciseIdentifier":"s:7Logging6LoggerV","text":"Logger"},{"kind":"text","text":"."},{"kind":"typeIdentifier","preciseIdentifier":"s:7Logging6LoggerV8Metadataa","text":"Metadata"}],"kind":"symbol","role":"symbol","identifier":"doc:\/\/Logging\/documentation\/Logging\/MultiplexLogHandler\/metadata","abstract":[{"text":"Get or set the entire metadata storage as a dictionary.","type":"text"}]},"doc://Logging/documentation/Logging/MultiplexLogHandler/logLevel":{"identifier":"doc:\/\/Logging\/documentation\/Logging\/MultiplexLogHandler\/logLevel","title":"logLevel","role":"symbol","type":"topic","kind":"symbol","fragments":[{"kind":"keyword","text":"var"},{"kind":"text","text":" "},{"kind":"identifier","text":"logLevel"},{"kind":"text","text":": "},{"kind":"typeIdentifier","preciseIdentifier":"s:7Logging6LoggerV","text":"Logger"},{"kind":"text","text":"."},{"kind":"typeIdentifier","preciseIdentifier":"s:7Logging6LoggerV5LevelO","text":"Level"}],"abstract":[{"type":"text","text":"Get or set the log level configured for this "},{"type":"codeVoice","code":"Logger"},{"type":"text","text":"."}],"url":"\/documentation\/logging\/multiplexloghandler\/loglevel"},"doc://Logging/s8SendableP":{"type":"unresolvable","identifier":"doc:\/\/Logging\/s8SendableP","title":"Swift.Sendable"},"doc://Logging/documentation/Logging/MultiplexLogHandler/log(level:message:metadata:source:file:function:line:)":{"abstract":[{"type":"text","text":"Log a message using the log level and source that you provide."}],"type":"topic","title":"log(level:message:metadata:source:file:function:line:)","fragments":[{"text":"func","kind":"keyword"},{"text":" ","kind":"text"},{"text":"log","kind":"identifier"},{"text":"(","kind":"text"},{"text":"level","kind":"externalParam"},{"text":": ","kind":"text"},{"preciseIdentifier":"s:7Logging6LoggerV","text":"Logger","kind":"typeIdentifier"},{"text":".","kind":"text"},{"preciseIdentifier":"s:7Logging6LoggerV5LevelO","text":"Level","kind":"typeIdentifier"},{"text":", ","kind":"text"},{"text":"message","kind":"externalParam"},{"text":": ","kind":"text"},{"preciseIdentifier":"s:7Logging6LoggerV","text":"Logger","kind":"typeIdentifier"},{"text":".","kind":"text"},{"preciseIdentifier":"s:7Logging6LoggerV7MessageV","text":"Message","kind":"typeIdentifier"},{"text":", ","kind":"text"},{"text":"metadata","kind":"externalParam"},{"text":": ","kind":"text"},{"preciseIdentifier":"s:7Logging6LoggerV","text":"Logger","kind":"typeIdentifier"},{"text":".","kind":"text"},{"preciseIdentifier":"s:7Logging6LoggerV8Metadataa","text":"Metadata","kind":"typeIdentifier"},{"text":"?, ","kind":"text"},{"text":"source","kind":"externalParam"},{"text":": ","kind":"text"},{"preciseIdentifier":"s:SS","text":"String","kind":"typeIdentifier"},{"text":", ","kind":"text"},{"text":"file","kind":"externalParam"},{"text":": ","kind":"text"},{"preciseIdentifier":"s:SS","text":"String","kind":"typeIdentifier"},{"text":", ","kind":"text"},{"text":"function","kind":"externalParam"},{"text":": ","kind":"text"},{"preciseIdentifier":"s:SS","text":"String","kind":"typeIdentifier"},{"text":", ","kind":"text"},{"text":"line","kind":"externalParam"},{"text":": ","kind":"text"},{"preciseIdentifier":"s:Su","text":"UInt","kind":"typeIdentifier"},{"text":")","kind":"text"}],"role":"symbol","url":"\/documentation\/logging\/multiplexloghandler\/log(level:message:metadata:source:file:function:line:)","kind":"symbol","identifier":"doc:\/\/Logging\/documentation\/Logging\/MultiplexLogHandler\/log(level:message:metadata:source:file:function:line:)"},"doc://Logging/documentation/Logging/StreamLogHandler":{"role":"symbol","navigatorTitle":[{"text":"StreamLogHandler","kind":"identifier"}],"type":"topic","title":"StreamLogHandler","fragments":[{"kind":"keyword","text":"struct"},{"kind":"text","text":" "},{"kind":"identifier","text":"StreamLogHandler"}],"url":"\/documentation\/logging\/streamloghandler","kind":"symbol","identifier":"doc:\/\/Logging\/documentation\/Logging\/StreamLogHandler","abstract":[{"type":"text","text":"Stream log handler presents log messages to STDERR or STDOUT."}]},"doc://Logging/documentation/Logging":{"identifier":"doc:\/\/Logging\/documentation\/Logging","role":"collection","kind":"symbol","title":"Logging","url":"\/documentation\/logging","type":"topic","abstract":[{"type":"text","text":"A unified, performant, and ergonomic logging API for Swift."}]},"doc://Logging/documentation/Logging/MultiplexLogHandler/init(_:metadataProvider:)":{"role":"symbol","identifier":"doc:\/\/Logging\/documentation\/Logging\/MultiplexLogHandler\/init(_:metadataProvider:)","title":"init(_:metadataProvider:)","url":"\/documentation\/logging\/multiplexloghandler\/init(_:metadataprovider:)","abstract":[{"text":"Create a multiplex log handler with the metadata provider you provide.","type":"text"}],"kind":"symbol","fragments":[{"text":"init","kind":"identifier"},{"text":"([any ","kind":"text"},{"text":"LogHandler","kind":"typeIdentifier","preciseIdentifier":"s:7Logging10LogHandlerP"},{"text":"], ","kind":"text"},{"text":"metadataProvider","kind":"externalParam"},{"text":": ","kind":"text"},{"text":"Logger","kind":"typeIdentifier","preciseIdentifier":"s:7Logging6LoggerV"},{"text":".","kind":"text"},{"text":"MetadataProvider","kind":"typeIdentifier","preciseIdentifier":"s:7Logging6LoggerV16MetadataProviderV"},{"text":"?)","kind":"text"}],"type":"topic"},"doc://Logging/documentation/Logging/MultiplexLogHandler/LogHandler-Implementations":{"identifier":"doc:\/\/Logging\/documentation\/Logging\/MultiplexLogHandler\/LogHandler-Implementations","type":"topic","url":"\/documentation\/logging\/multiplexloghandler\/loghandler-implementations","kind":"article","role":"collectionGroup","title":"LogHandler Implementations","abstract":[]},"doc://Logging/documentation/Logging/MultiplexLogHandler/init(_:)":{"role":"symbol","type":"topic","url":"\/documentation\/logging\/multiplexloghandler\/init(_:)","identifier":"doc:\/\/Logging\/documentation\/Logging\/MultiplexLogHandler\/init(_:)","title":"init(_:)","fragments":[{"kind":"identifier","text":"init"},{"kind":"text","text":"([any "},{"kind":"typeIdentifier","text":"LogHandler","preciseIdentifier":"s:7Logging10LogHandlerP"},{"kind":"text","text":"])"}],"abstract":[{"type":"text","text":"Create a multiplex log handler."}],"kind":"symbol"},"doc://Logging/documentation/Logging/LogHandler":{"title":"LogHandler","type":"topic","kind":"symbol","url":"\/documentation\/logging\/loghandler","role":"symbol","navigatorTitle":[{"text":"LogHandler","kind":"identifier"}],"fragments":[{"text":"protocol","kind":"keyword"},{"text":" ","kind":"text"},{"text":"LogHandler","kind":"identifier"}],"identifier":"doc:\/\/Logging\/documentation\/Logging\/LogHandler","abstract":[{"type":"text","text":"A log handler provides an implementation of a logging backend."}]},"doc://Logging/documentation/Logging/MultiplexLogHandler/metadataProvider":{"identifier":"doc:\/\/Logging\/documentation\/Logging\/MultiplexLogHandler\/metadataProvider","title":"metadataProvider","role":"symbol","type":"topic","kind":"symbol","fragments":[{"text":"var","kind":"keyword"},{"text":" ","kind":"text"},{"text":"metadataProvider","kind":"identifier"},{"text":": ","kind":"text"},{"text":"Logger","kind":"typeIdentifier","preciseIdentifier":"s:7Logging6LoggerV"},{"text":".","kind":"text"},{"text":"MetadataProvider","kind":"typeIdentifier","preciseIdentifier":"s:7Logging6LoggerV16MetadataProviderV"},{"text":"?","kind":"text"}],"abstract":[{"text":"The metadata provider.","type":"text"}],"url":"\/documentation\/logging\/multiplexloghandler\/metadataprovider"}}}